### Route One: 核心互動與渲染優化

#### 1. WebSocket 連線管理

*   [x] 確保 WebSocket 連線在組件卸載時正確關閉 (App.tsx)

#### 2. 減少不必要的 React 重渲染

*   [x] 聊天列表 key 從 index 改為 message id (ChatInterface.tsx, ChatService.ts)
*   ~~[ ] Morph Target 更新節流 (ModelService.ts)~~ (已移至 useFrame)
*   [x] 檢查 ControlPanel 和 ModelViewer 是否可以使用 memo 優化 (ControlPanel.tsx, ModelViewer.tsx, App.tsx)
*   [x] 檢查 useAudioService 和 useChatService 返回值的穩定性 (AudioService.ts, ChatService.ts)

#### 3. 渲染迴圈優化 (useFrame)

*   [x] 將高頻動畫更新（如後備口型動畫）移入 useFrame (Model.tsx)
*   [x] 將手動控制的 Morph Target 更新移入 useFrame (Model.tsx, ModelService.ts, App.tsx, ModelViewer.tsx)
*   [ ] 考慮將來自 WebSocket 的 Morph Target 更新也直接在 useFrame 中處理，減少 state 傳遞 (可能需要重構 ModelService 和 useModelService)

#### 4. 資源管理

*   [ ] 確保模型和紋理在切換或卸載時被正確釋放 (Model.tsx)
*   [ ] 檢查音頻資源是否被正確管理

#### 5. 狀態管理架構

*   [ ] 評估 Zustand 或其他狀態管理庫是否能簡化跨組件狀態共享和更新邏輯 